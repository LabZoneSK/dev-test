(this.webpackJsonpflicker_gallery=this.webpackJsonpflicker_gallery||[]).push([[0],{66:function(e,t,c){},67:function(e,t,c){},89:function(e,t,c){"use strict";c.r(t);var r=c(2),n=c.n(r),a=c(57),s=c.n(a),i=(c(66),c(13)),j=(c(67),c(3));var o=function(){return Object(j.jsx)("header",{children:Object(j.jsx)("h1",{children:" \ud83d\udcf7 Flick app"})})},l=c(58),b=c(95),u=c(93);var d=function(e){var t=e.id,c=e.title,n=e.linkToFlickPost,a=e.imageSrc,s=e.description,i=Object(b.a)();return Object(r.useEffect)((function(){i.start((function(e){return{opacity:1,x:-30,transition:{delay:.3*e}}}))}),[i]),Object(j.jsxs)(u.a.article,{className:"card",custom:t,animate:i,children:[Object(j.jsx)("a",{href:n,children:Object(j.jsx)("img",{src:a,alt:s})}),Object(j.jsxs)("div",{className:"cardBody",children:[Object(j.jsx)("h3",{children:c}),Object(j.jsx)("p",{children:s.substr(0,150)+"..."})]}),Object(j.jsx)("div",{className:"cardExploreBtn",children:Object(j.jsxs)("a",{href:n,children:["Explore ",Object(j.jsx)(l.a,{})]})})]})};var O=function(){return Object(j.jsx)("footer",{children:Object(j.jsx)("h2",{children:"\u2728 Images from flickr \u2728"})})},h=c(46),f=c.n(h),x=c(47),p=c(59),v=c(60),m=c.n(v);var g=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=Object(r.useState)(!0),a=Object(i.a)(n,2),s=a[0],j=a[1],o=Object(r.useState)(!1),l=Object(i.a)(o,2),b=l[0],u=l[1],d=Object(r.useState)([]),O=Object(i.a)(d,2),h=O[0],v=O[1],g=Object(r.useState)(""),k=Object(i.a)(g,2),w=k[0],S=k[1],y=Object(r.useCallback)(Object(p.a)(f.a.mark((function r(){var n;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,j(!0),u(!1),w!==c&&(S(c),v([])),r.next=6,m.a.get(e+t+w);case 6:n=r.sent,v((function(e){return[].concat(Object(x.a)(e),Object(x.a)(n.data.photos.photo))})),j(!1),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),u(r.t0);case 14:case"end":return r.stop()}}),r,null,[[0,11]])}))),[e,t,c]);return Object(r.useEffect)((function(){y()}),[e,y,t]),{loading:s,error:b,list:h}},k=c(94),w=c(61);var S=function(e){var t=e.searchBar,c=e.handleChange,r=e.ChangeSearchType;return Object(j.jsxs)("div",{className:"searchbar",children:[Object(j.jsxs)("select",{name:"typeOfSearch",onChange:r,children:[Object(j.jsx)("option",{value:"text",children:"Text"}),Object(j.jsx)("option",{value:"tags",children:"Tag"})]}),Object(j.jsx)("input",{ref:t,placeholder:"Write here what you want to search as images .."})," ",Object(j.jsxs)("button",{onClick:c,children:[" ",Object(j.jsx)(w.a,{})]})]})};var y=function(){var e=Object(r.useState)("https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=2a33dd08ea58d2c86ccb995df5f1cf6b&tags=nature&format=json&extras=description&nojsoncallback=1&per_page=10&page="),t=Object(i.a)(e,2),c=t[0],n=(t[1],Object(r.useState)(1)),a=Object(i.a)(n,2),s=a[0],l=a[1],b=Object(r.useState)(""),u=Object(i.a)(b,2),h=u[0],f=u[1],x=g(c,s,h),p=x.loading,v=x.error,m=x.list,w=Object(r.useRef)(null),y=Object(r.useRef)(null),E=Object(r.useState)(!1),C=Object(i.a)(E,2),N=C[0],T=C[1],_=Object(r.useState)("text"),B=Object(i.a)(_,2),F=B[0],I=B[1];Object(r.useEffect)((function(){window.addEventListener("scroll",(function(){window.pageYOffset>300?T(!0):T(!1)}))}),[]);var J=Object(r.useCallback)((function(e){e[0].isIntersecting&&l((function(e){return e+1}))}),[]);return Object(r.useEffect)((function(){var e=new IntersectionObserver(J,{root:null,rootMargin:"20px",threshold:0});w.current&&e.observe(w.current)}),[J]),v?Object(j.jsxs)("div",{children:["Error: ",v.message]}):Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(o,{}),Object(j.jsxs)("main",{children:[Object(j.jsx)(S,{searchBar:y,handleChange:function(e){var t=y.current;l(0),f("&"+F+"="+t.value)},ChangeSearchType:function(e){I(e.target.value)}}),m.map((function(e,t){return Object(j.jsx)(d,{id:t,imageSrc:"https://farm"+e.farm+".staticflickr.com/"+e.server+"/"+e.id+"_"+e.secret+".jpg",linkToFlickPost:"https://www.flickr.com/photos/"+e.owner+"/"+e.id,title:e.title,description:e.description._content},t)})),Object(j.jsx)("div",{ref:w}),p&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("br",{}),Object(j.jsx)("div",{className:"loader",children:Object(j.jsx)(k.a,{enabled:!0})})]}),v&&Object(j.jsx)("p",{children:"Error!"})]}),N&&Object(j.jsx)("button",{onClick:function(){window.scrollTo(0,0)},className:"back-to-top",children:"\u21e7"}),Object(j.jsx)(O,{})]})};s.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(y,{})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.ccb88307.chunk.js.map