(this.webpackJsonpflicker_gallery=this.webpackJsonpflicker_gallery||[]).push([[0],{66:function(e,t,c){},67:function(e,t,c){},89:function(e,t,c){"use strict";c.r(t);var r=c(2),n=c.n(r),s=c(57),a=c.n(s),i=(c(66),c(15)),o=(c(67),c(3));var j=function(){return Object(o.jsx)("header",{children:Object(o.jsx)("h1",{children:"Flick app"})})},l=c(58),b=c(93),u=c(92);var d=function(e){var t=e.id,c=e.title,n=e.linkToFlickPost,s=e.imageSrc,a=e.description,i=Object(b.a)();return Object(r.useEffect)((function(){i.start((function(e){return{opacity:1,x:-30,transition:{delay:.3*e}}}))}),[i]),Object(o.jsxs)(u.a.article,{className:"card",custom:t,animate:i,children:[Object(o.jsx)("img",{src:s,alt:a}),Object(o.jsxs)("div",{className:"cardBody",children:[Object(o.jsx)("h3",{children:c}),Object(o.jsx)("p",{children:a.substr(0,150)+"..."})]}),Object(o.jsx)("div",{className:"cardExploreBtn",children:Object(o.jsxs)("a",{href:n,children:["Explore ",Object(o.jsx)(l.a,{})]})})]})};var O=function(){return Object(o.jsx)("footer",{children:Object(o.jsx)("h2",{children:"Images from flickr"})})},f=c(46),h=c.n(f),p=c(47),x=c(59),v=c(60),g=c.n(v);var m=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=Object(r.useState)(!0),s=Object(i.a)(n,2),a=s[0],o=s[1],j=Object(r.useState)(!1),l=Object(i.a)(j,2),b=l[0],u=l[1],d=Object(r.useState)([]),O=Object(i.a)(d,2),f=O[0],v=O[1],m=Object(r.useState)(""),k=Object(i.a)(m,2),w=k[0],S=k[1],y=Object(r.useCallback)(Object(x.a)(h.a.mark((function r(){var n;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o(!0),u(!1),w!==c&&(console.log("jarrive ici"),S(c),v([])),r.next=6,g.a.get(e+t+w);case 6:n=r.sent,v((function(e){return[].concat(Object(p.a)(e),Object(p.a)(n.data.photos.photo))})),o(!1),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),u(r.t0);case 14:case"end":return r.stop()}}),r,null,[[0,11]])}))),[e,t,c]);return Object(r.useEffect)((function(){y()}),[e,y,t]),{loading:a,error:b,list:f}},k=c(61);var w=function(){var e=Object(r.useState)("https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=2a33dd08ea58d2c86ccb995df5f1cf6b&tags=nature&format=json&extras=description&nojsoncallback=1&per_page=10&page="),t=Object(i.a)(e,2),c=t[0],n=(t[1],Object(r.useState)(1)),s=Object(i.a)(n,2),a=s[0],l=s[1],b=Object(r.useState)(""),u=Object(i.a)(b,2),f=u[0],h=u[1],p=m(c,a,f),x=p.loading,v=p.error,g=p.list,w=Object(r.useRef)(null),S=Object(r.useRef)(null),y=Object(r.useCallback)((function(e){e[0].isIntersecting&&l((function(e){return e+1}))}),[]);return Object(r.useEffect)((function(){var e=new IntersectionObserver(y,{root:null,rootMargin:"20px",threshold:0});w.current&&e.observe(w.current)}),[y]),v?Object(o.jsxs)("div",{children:["Error: ",v.message]}):Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(j,{}),Object(o.jsxs)("main",{children:[Object(o.jsxs)("div",{className:"searchbar",children:[Object(o.jsx)("input",{ref:S,placeholder:"Write here what you want to search as images .."})," ",Object(o.jsxs)("button",{onClick:function(e){var t=S.current;console.log(t.value),l(0),h("&text="+t.value)},children:[" ",Object(o.jsx)(k.a,{})]})]}),g.map((function(e,t){return Object(o.jsx)(d,{id:t,imageSrc:"https://farm"+e.farm+".staticflickr.com/"+e.server+"/"+e.id+"_"+e.secret+".jpg",linkToFlickPost:"https://www.flickr.com/photos/"+e.owner+"/"+e.id,title:e.title,description:e.description._content},t)})),Object(o.jsx)("div",{ref:w}),x&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("br",{}),Object(o.jsx)("div",{className:"loader",children:"Loading..."})]}),v&&Object(o.jsx)("p",{children:"Error!"})]}),Object(o.jsx)(O,{})]})},S=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,94)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),r(e),n(e),s(e),a(e)}))};a.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(w,{})}),document.getElementById("root")),S()}},[[89,1,2]]]);
//# sourceMappingURL=main.845603f7.chunk.js.map