(this.webpackJsonpflicker_gallery=this.webpackJsonpflicker_gallery||[]).push([[0],{66:function(e,t,c){},67:function(e,t,c){},89:function(e,t,c){"use strict";c.r(t);var r=c(2),n=c.n(r),a=c(57),s=c.n(a),i=(c(66),c(14)),o=(c(67),c(3));var j=function(){return Object(o.jsx)("header",{children:Object(o.jsx)("h1",{children:" \ud83d\udcf7 Flick app"})})},l=c(58),b=c(95),u=c(93);var d=function(e){var t=e.id,c=e.title,n=e.linkToFlickPost,a=e.imageSrc,s=e.description,i=Object(b.a)();return Object(r.useEffect)((function(){i.start((function(e){return{opacity:1,x:-30,transition:{delay:.3*e}}}))}),[i]),Object(o.jsxs)(u.a.article,{className:"card",custom:t,animate:i,children:[Object(o.jsx)("a",{href:n,children:Object(o.jsx)("img",{src:a,alt:s})}),Object(o.jsxs)("div",{className:"cardBody",children:[Object(o.jsx)("h3",{children:c}),Object(o.jsx)("p",{children:s.substr(0,150)+"..."})]}),Object(o.jsx)("div",{className:"cardExploreBtn",children:Object(o.jsxs)("a",{href:n,children:["Explore ",Object(o.jsx)(l.a,{})]})})]})};var O=function(){return Object(o.jsx)("footer",{children:Object(o.jsx)("h2",{children:"\u2728 Images from flickr \u2728"})})},h=c(46),f=c.n(h),x=c(47),p=c(59),v=c(60),g=c.n(v);var m=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=Object(r.useState)(!0),a=Object(i.a)(n,2),s=a[0],o=a[1],j=Object(r.useState)(!1),l=Object(i.a)(j,2),b=l[0],u=l[1],d=Object(r.useState)([]),O=Object(i.a)(d,2),h=O[0],v=O[1],m=Object(r.useState)(""),k=Object(i.a)(m,2),w=k[0],S=k[1],y=Object(r.useCallback)(Object(p.a)(f.a.mark((function r(){var n;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o(!0),u(!1),w!==c&&(console.log("jarrive ici"),S(c),v([])),r.next=6,g.a.get(e+t+w);case 6:n=r.sent,v((function(e){return[].concat(Object(x.a)(e),Object(x.a)(n.data.photos.photo))})),o(!1),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),u(r.t0);case 14:case"end":return r.stop()}}),r,null,[[0,11]])}))),[e,t,c]);return Object(r.useEffect)((function(){y()}),[e,y,t]),{loading:s,error:b,list:h}},k=c(94),w=c(61);var S=function(e){var t=e.searchBar,c=e.handleChange,r=e.ChangeSearchType;return Object(o.jsxs)("div",{className:"searchbar",children:[Object(o.jsxs)("select",{name:"typeOfSearch",onChange:r,children:[Object(o.jsx)("option",{value:"text",children:"Text"}),Object(o.jsx)("option",{value:"tags",children:"Tag"})]}),Object(o.jsx)("input",{ref:t,placeholder:"Write here what you want to search as images .."})," ",Object(o.jsxs)("button",{onClick:c,children:[" ",Object(o.jsx)(w.a,{})]})]})};var y=function(){var e=Object(r.useState)("https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=2a33dd08ea58d2c86ccb995df5f1cf6b&tags=nature&format=json&extras=description&nojsoncallback=1&per_page=10&page="),t=Object(r.useState)(1),c=Object(i.a)(t,2),n=c[0],a=c[1],s=Object(r.useState)(""),l=Object(i.a)(s,2),b=l[0],u=l[1],h=m(e,n,b),f=h.loading,x=h.error,p=h.list,v=Object(r.useRef)(null),g=Object(r.useRef)(null),w=Object(r.useState)(!1),y=Object(i.a)(w,2),E=y[0],C=y[1],N=Object(r.useState)("text"),T=Object(i.a)(N,2),_=T[0],B=T[1];Object(r.useEffect)((function(){window.addEventListener("scroll",(function(){window.pageYOffset>300?C(!0):C(!1)}))}),[]);var F=Object(r.useCallback)((function(e){e[0].isIntersecting&&a((function(e){return e+1}))}),[]);return Object(r.useEffect)((function(){var e=new IntersectionObserver(F,{root:null,rootMargin:"20px",threshold:0});v.current&&e.observe(v.current)}),[F]),x?Object(o.jsxs)("div",{children:["Error: ",x.message]}):Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(j,{}),Object(o.jsxs)("main",{children:[Object(o.jsx)(S,{searchBar:g,handleChange:function(e){var t=g.current;a(0),u("&"+_+"="+t.value)},ChangeSearchType:function(e){B(e.target.value)}}),p.map((function(e,t){return Object(o.jsx)(d,{id:t,imageSrc:"https://farm"+e.farm+".staticflickr.com/"+e.server+"/"+e.id+"_"+e.secret+".jpg",linkToFlickPost:"https://www.flickr.com/photos/"+e.owner+"/"+e.id,title:e.title,description:e.description._content},t)})),Object(o.jsx)("div",{ref:v}),f&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("br",{}),Object(o.jsx)("div",{className:"loader",children:Object(o.jsx)(k.a,{enabled:!0})})]}),x&&Object(o.jsx)("p",{children:"Error!"})]}),E&&Object(o.jsx)("button",{onClick:function(){window.scrollTo(0,0)},className:"back-to-top",children:"\u21e7"}),Object(o.jsx)(O,{})]})};s.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(y,{})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.253981be.chunk.js.map